import{a as Me}from"./chunk-NGEPY5T2.js";import{A as ce,B as de,C as ue,D as ke,E as se,G as R,H as De,a as ye,c as L,d as te,j as Se,l as be,m as N,o as P,p as we,q as ie,r as G,s as ne,t as re,u as oe,v as A,w as ae,x as Ee,y as le,z as Pe}from"./chunk-H7W7OBCP.js";import{$a as d,Ba as r,Ca as C,Fb as Ce,K as he,M as xe,Na as p,P as J,Pa as X,Q as K,Qa as Y,Sa as g,U as $,V as ve,Va as m,Wa as F,Xa as y,Ya as S,Z as D,Za as i,_ as W,_a as n,ab as O,db as h,eb as s,ga as v,ha as _,hb as w,ia as f,ib as E,ja as T,lb as l,mb as x,nb as b,pb as I,qb as _e,r as Q,rb as ee,sb as Z,tb as V,vb as j,ya as q,z as M}from"./chunk-43GAKS5M.js";var Fe=(()=>{class t{http;messageService;url="https://fakestoreapi.com";constructor(e,o){this.http=e,this.messageService=o}getAll(){return this.http.get(`${this.url}/products/categories`).pipe(Q(e=>e.map(a=>({name:a}))),M(e=>{throw this.messageService.error(e,"Error in source",{autoClose:!0}),e}))}static \u0275fac=function(o){return new(o||t)($(te),$(R))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var z=(()=>{class t{http;messageService;url="https://fakestoreapi.com";constructor(e,o){this.http=e,this.messageService=o}getAll(){return this.http.get(`${this.url}/products`).pipe(M(e=>{throw this.messageService.error(e,"Error in source",{autoClose:!0}),e}))}get(e){return this.http.get(`${this.url}/products/${e}`).pipe(M(o=>{throw this.messageService.error(o,"Error in source",{autoClose:!0}),o}))}find(e,o,a,u,H=10){return this.http.get(`${this.url}/products?limit=${H}`).pipe(Q(k=>k.filter(U=>this.filter(U,e,o,a))),xe(k=>this.sort(k,u)),M(k=>{throw this.messageService.error(k,"Error in source",{autoClose:!0}),k}))}sort(e,o){e.sort((a,u)=>{switch(o){case 1:return a.rating.rate-u.rating.count;case 2:return a.price-u.price;case 3:return u.price-a.price;default:return a.rating.count-u.rating.count}})}filter(e,o,a,u){let H=a.length===0||a.find(U=>U.name==e.category)!==void 0,k=u.length===0||u.find(U=>{switch(U){case 0:return e.price>=0&&e.price<50;case 1:return e.price>=50&&e.price<100;case 2:return e.price>=100&&e.price<150;case 3:return e.price>=150&&e.price<200;default:return e.price>=200}})!==void 0;return(e.title.search(new RegExp(o,"i"))!=-1||e.description.search(new RegExp(o,"i"))!=-1)&&H&&k}static \u0275fac=function(o){return new(o||t)($(te),$(R))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var me=(t,c)=>({"font-medium text-gray-900":t,"text-gray-500":c}),Ne=t=>["/products/product-detail",t];function Ge(t,c){t&1&&(i(0,"div"),l(1,"Text search is required."),n())}function Ae(t,c){t&1&&(i(0,"div"),l(1," Text search must be at least 4 characters long. "),n())}function Re(t,c){if(t&1&&(i(0,"div",28),p(1,Ge,2,0,"div")(2,Ae,2,0,"div"),n()),t&2){let e=s(2);r(),m(e.textSearch.errors!=null&&e.textSearch.errors.required?1:-1),r(),m(e.textSearch.errors!=null&&e.textSearch.errors.minlength?2:-1)}}function ze(t,c){t&1&&(f(),i(0,"svg",32),d(1,"path",55),n())}function He(t,c){t&1&&(f(),i(0,"svg",32),d(1,"path",56),n())}function Ue(t,c){if(t&1&&(i(0,"div",5),d(1,"input",58),i(2,"label",59),l(3),n()()),t&2){let e=c.$index,o=s(3);r(),E("id","filter-mobile-category-",e,""),g("formControlName",e),r(),E("for","filter-mobile-category-",e,""),r(),x(o.categoryList[e].name)}}function Oe(t,c){if(t&1&&(i(0,"div",54)(1,"div",57),y(2,Ue,4,6,"div",5,F),n()()),t&2){let e=s(2);r(2),S(e.categories.controls)}}function Ze(t,c){t&1&&(f(),i(0,"svg",32),d(1,"path",55),n())}function Qe(t,c){t&1&&(f(),i(0,"svg",32),d(1,"path",56),n())}function Je(t,c){if(t&1&&(i(0,"div",5),d(1,"input",58),i(2,"label",61),l(3),n()()),t&2){let e=c.$index,o=s(3);r(),E("id","filter-mobile-category-",e,""),g("formControlName",e),r(),E("for","filter-mobile-category-",e,""),r(),x(o.priceList[e])}}function Ke(t,c){if(t&1&&(i(0,"div",54)(1,"div",60),y(2,Je,4,6,"div",5,F),n()()),t&2){let e=s(2);r(2),S(e.prices.controls)}}function We(t,c){if(t&1){let e=O();i(0,"div",1),d(1,"div",42),i(2,"div",43)(3,"div",44)(4,"div",45)(5,"h2",46),l(6,"Filters"),n(),i(7,"button",47),h("click",function(){v(e);let a=s();return _(a.toggleFilterDialog())}),i(8,"span",12),l(9,"Close menu"),n(),f(),i(10,"svg",48),d(11,"path",49),n()()(),T(),i(12,"form",50),h("ngSubmit",function(){v(e);let a=s();return _(a.onSubmit())}),i(13,"div",51)(14,"h3",52)(15,"label",21),l(16,"Search"),n(),i(17,"div",22)(18,"div",23),f(),i(19,"svg",24),d(20,"path",25),n()(),T(),d(21,"input",26),i(22,"button",27),l(23,"Search"),n()(),p(24,Re,3,2,"div",28),n()(),i(25,"div",51)(26,"h3",52)(27,"button",53),h("click",function(){v(e);let a=s();return _(a.toggleCategoryMenu())}),i(28,"span",30),l(29,"Category"),n(),i(30,"span",31),p(31,ze,2,0,":svg:svg",32)(32,He,2,0,":svg:svg",32),n()()(),p(33,Oe,4,0,"div",54),n(),i(34,"div",51)(35,"h3",52)(36,"button",53),h("click",function(){v(e);let a=s();return _(a.togglePriceMenu())}),i(37,"span",30),l(38,"Price"),n(),i(39,"span",31),p(40,Ze,2,0,":svg:svg",32)(41,Qe,2,0,":svg:svg",32),n()()(),p(42,Ke,4,0,"div",54),n()()()()()}if(t&2){let e=s();r(12),g("formGroup",e.searchForm),r(10),g("disabled",!e.searchForm.valid),r(2),m(e.textSearch.invalid&&(e.textSearch.dirty||e.textSearch.touched)?24:-1),r(7),m(e.showCategoryMenu?-1:31),r(),m(e.showCategoryMenu?32:-1),r(),m(e.showCategoryMenu?33:-1),r(7),m(e.showPriceMenu?-1:40),r(),m(e.showPriceMenu?41:-1),r(),m(e.showPriceMenu?42:-1)}}function Xe(t,c){if(t&1){let e=O();i(0,"div",10)(1,"div",62)(2,"a",63),h("click",function(){v(e);let a=s();return _(a.onSort(0))}),l(3,"Most Popular"),n(),i(4,"a",64),h("click",function(){v(e);let a=s();return _(a.onSort(1))}),l(5,"Best Rating"),n(),i(6,"a",65),h("click",function(){v(e);let a=s();return _(a.onSort(2))}),l(7,"Price: Low to High"),n(),i(8,"a",66),h("click",function(){v(e);let a=s();return _(a.onSort(3))}),l(9,"Price: High to Low"),n()()()}if(t&2){let e=s();r(2),g("ngClass",Z(4,me,e.sortBy===0,e.sortBy!==0)),r(2),g("ngClass",Z(7,me,e.sortBy===1,e.sortBy!==1)),r(2),g("ngClass",Z(10,me,e.sortBy===2,e.sortBy!==2)),r(2),g("ngClass",Z(13,me,e.sortBy===3,e.sortBy!==3))}}function Ye(t,c){t&1&&(i(0,"div"),l(1,"Text search is required."),n())}function et(t,c){t&1&&(i(0,"div"),l(1," Text search must be at least 4 characters long. "),n())}function tt(t,c){if(t&1&&(i(0,"div",28),p(1,Ye,2,0,"div")(2,et,2,0,"div"),n()),t&2){let e=s();r(),m(e.textSearch.errors!=null&&e.textSearch.errors.required?1:-1),r(),m(e.textSearch.errors!=null&&e.textSearch.errors.minlength?2:-1)}}function it(t,c){t&1&&(f(),i(0,"svg",32),d(1,"path",55),n())}function nt(t,c){t&1&&(f(),i(0,"svg",32),d(1,"path",56),n())}function rt(t,c){if(t&1&&(i(0,"div",5),d(1,"input",58),i(2,"label",59),l(3),n()()),t&2){let e=c.$index,o=s(2);r(),E("id","filter-category-",e,""),g("formControlName",e),r(),E("for","filter-category-",e,""),r(),x(o.categoryList[e].name)}}function ot(t,c){if(t&1&&(i(0,"div",33)(1,"div",67),y(2,rt,4,6,"div",5,F),n()()),t&2){let e=s();r(2),S(e.categories.controls)}}function at(t,c){t&1&&(f(),i(0,"svg",32),d(1,"path",55),n())}function lt(t,c){t&1&&(f(),i(0,"svg",32),d(1,"path",56),n())}function ct(t,c){if(t&1&&(i(0,"div",5),d(1,"input",58),i(2,"label",61),l(3),n()()),t&2){let e=c.$index,o=s(2);r(),E("id","filter-category-",e,""),g("formControlName",e),r(),E("for","filter-category-",e,""),r(),x(o.priceList[e])}}function dt(t,c){if(t&1&&(i(0,"div",33)(1,"div",68),y(2,ct,4,6,"div",5,F),n()()),t&2){let e=s();r(2),S(e.prices.controls)}}function st(t,c){if(t&1&&(i(0,"div",40)(1,"h1",69)(2,"span",70),l(3),n()()()),t&2){let e=s();r(3),x(e.message)}}function mt(t,c){if(t&1&&(i(0,"div",71)(1,"div",72),d(2,"img",73),V(3,"shortDescription"),n(),i(4,"div",74)(5,"div")(6,"h3",75)(7,"a",76),d(8,"span",77),l(9),V(10,"shortDescription"),n()(),i(11,"p",78),l(12),V(13,"shortDescription"),n()(),i(14,"p",79),l(15),n()()()),t&2){let e=c.$implicit;r(2),w("src",e.image,q),w("alt",j(3,6,e.title,20)),r(5),g("routerLink",ee(15,Ne,e.id)),r(2),b(" ",j(10,9,e.title,20)," "),r(3),x(j(13,12,e.description,200)),r(3),b("$",e.price,"")}}function pt(t,c){if(t&1&&(i(0,"div",41),y(1,mt,16,17,"div",71,F),n()),t&2){let e=s();r(),S(e.foundProducts)}}var Ve=(()=>{class t{categoriesService;productsService;showDropdownMenu=!1;showCategoryMenu=!1;showPriceMenu=!1;showFilterDialog=!1;categoryList=[];priceList=["$0 - $50","$50 - $100","$100 - $150","$150 - $200","$200+"];searchForm=new oe({textSearch:new A("",[G.required,G.minLength(4)]),categories:new ue([]),prices:new ue([])});sortBy=0;foundProducts=[];searching=!1;constructor(e,o){this.categoriesService=e,this.productsService=o}ngOnInit(){this.priceList.forEach(e=>this.prices.push(new A(!1))),this.categoriesService.getAll().subscribe(e=>{this.categoryList=e,e.forEach(o=>this.categories.push(new A(!1)))})}toggleDropdownMenu(){this.showDropdownMenu=!this.showDropdownMenu}toggleCategoryMenu(){this.showDropdownMenu=!1,this.showCategoryMenu=!this.showCategoryMenu}togglePriceMenu(){this.showDropdownMenu=!1,this.showPriceMenu=!this.showPriceMenu}toggleFilterDialog(){this.showFilterDialog=!this.showFilterDialog}onSort(e){this.showDropdownMenu=!1,e!=this.sortBy&&(this.sortBy=e,this.productsService.sort(this.foundProducts,this.sortBy))}onSubmit(){this.showDropdownMenu=!1,this.showFilterDialog=!1,this.foundProducts=[],this.searching=!0;let e=[],o=[];this.categories.controls.forEach((a,u)=>{a.value&&e.push(this.categoryList[u])}),this.prices.controls.forEach((a,u)=>{a.value&&o.push(u)}),this.productsService.find(this.textSearch.value,e,o,this.sortBy).pipe(M(a=>{throw this.searching=!1,a})).subscribe(a=>{this.foundProducts=a,this.searching=!1})}get textSearch(){return this.searchForm.get("textSearch")}get categories(){return this.searchForm.get("categories")}get prices(){return this.searchForm.get("prices")}get showMessage(){return this.searching||this.foundProducts.length===0}get message(){return this.searching?"Searching...":"Not Products"}static \u0275fac=function(o){return new(o||t)(C(Fe),C(z))};static \u0275cmp=D({type:t,selectors:[["app-search-product"]],standalone:!0,features:[I],decls:65,vars:12,consts:[[1,"bg-white"],["role","dialog","aria-modal","true",1,"relative","z-40","lg:hidden"],[1,"mx-auto","max-w-7xl","px-4","sm:px-6","lg:px-8"],[1,"flex","items-baseline","justify-between","border-b","border-gray-200","pb-6"],[1,"text-4xl","font-bold","tracking-tight","text-gray-900"],[1,"flex","items-center"],[1,"relative","inline-block","text-left"],["type","button","id","menu-button","aria-expanded","false","aria-haspopup","true",1,"group","inline-flex","justify-center","text-sm","font-medium","text-gray-700","hover:text-gray-900",3,"click"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"-mr-1","ml-1","h-5","w-5","flex-shrink-0","text-gray-400","group-hover:text-gray-500"],["fill-rule","evenodd","d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule","evenodd"],["role","menu","aria-orientation","vertical","aria-labelledby","menu-button","tabindex","-1",1,"absolute","right-0","z-10","mt-2","w-40","origin-top-right","rounded-md","bg-white","shadow-2xl","ring-1","ring-black","ring-opacity-5","focus:outline-none"],["type","button",1,"-m-2","ml-4","p-2","text-gray-400","hover:text-gray-500","sm:ml-6","lg:hidden",3,"click"],[1,"sr-only"],["aria-hidden","true","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 01.628.74v2.288a2.25 2.25 0 01-.659 1.59l-4.682 4.683a2.25 2.25 0 00-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 018 18.25v-5.757a2.25 2.25 0 00-.659-1.591L2.659 6.22A2.25 2.25 0 012 4.629V2.34a.75.75 0 01.628-.74z","clip-rule","evenodd"],["aria-labelledby","products-heading",1,"pb-24","pt-6"],["id","products-heading",1,"sr-only"],[1,"grid","grid-cols-1","gap-x-8","gap-y-10","lg:grid-cols-4"],[1,"hidden","lg:block",3,"ngSubmit","formGroup"],[1,"border-b","border-gray-200","py-6"],[1,"-my-3","flow-root"],["for","default-search",1,"mb-2","text-sm","font-medium","text-gray-900","sr-only","dark:text-white"],[1,"relative"],[1,"absolute","inset-y-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","search","id","textSearch","name","textSearch","formControlName","textSearch","placeholder","Search Title, Description...","required","",1,"block","w-full","p-4","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500"],["type","submit",1,"text-white","absolute","end-2.5","bottom-2.5","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-4","py-2","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"disabled"],[1,"alert","alert-danger"],["type","button","aria-controls","filter-section-1","aria-expanded","false",1,"flex","w-full","items-center","justify-between","bg-white","py-3","text-sm","text-gray-400","hover:text-gray-500",3,"click"],[1,"font-medium","text-gray-900"],[1,"ml-6","flex","items-center"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["id","filter-section-1",1,"pt-6"],[1,"lg:col-span-3"],[1,"relative","h-96","overflow-hidden","rounded-xl","border","border-dashed","border-gray-400","opacity-75","lg:h-full"],["fill","none",1,"absolute","inset-0","h-full","w-full","stroke-gray-900/10"],["id","pattern-4d2f8758-2f66-4332-9b69-ca19e9dfc001","x","0","y","0","width","10","height","10","patternUnits","userSpaceOnUse"],["d","M-3 13 15-5M-5 5l18-18M-1 21 17 3"],["stroke","none","fill","url(#pattern-4d2f8758-2f66-4332-9b69-ca19e9dfc001)","width","100%","height","100%"],[1,"flex","items-center","justify-center","h-full","w-full"],[1,"mt-6","grid","grid-cols-1","gap-x-6","gap-y-10","sm:grid-cols-2","lg:grid-cols-3","xl:gap-x-4"],["aria-hidden","true",1,"fixed","inset-0","bg-black","bg-opacity-25"],[1,"fixed","inset-0","z-40","flex"],[1,"relative","ml-auto","flex","h-full","w-full","max-w-xs","flex-col","overflow-y-auto","bg-white","py-4","shadow-xl"],[1,"flex","items-center","justify-between","px-4"],[1,"text-lg","font-medium","text-gray-900"],["type","button",1,"-mr-2","flex","h-10","w-10","items-center","justify-center","rounded-md","bg-white","p-2","text-gray-400",3,"click"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"mt-4","border-t","border-gray-200",3,"ngSubmit","formGroup"],[1,"border-t","border-gray-200","px-4","py-6"],[1,"-mx-2","-my-3","flow-root"],["type","button","aria-controls","filter-section-mobile-1","aria-expanded","false",1,"flex","w-full","items-center","justify-between","bg-white","px-2","py-3","text-gray-400","hover:text-gray-500",3,"click"],["id","filter-section-mobile-1",1,"pt-6"],["d","M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"],["fill-rule","evenodd","d","M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z","clip-rule","evenodd"],["formArrayName","categories",1,"space-y-6"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500",3,"id","formControlName"],[1,"ml-3","min-w-0","flex-1","text-gray-500",3,"for"],["formArrayName","prices",1,"space-y-6"],[1,"ml-3","text-sm","text-gray-600",3,"for"],["role","none",1,"py-1"],["role","menuitem","tabindex","-1","id","menu-item-0",1,"block","px-4","py-2","text-sm","cursor-hand",3,"click","ngClass"],["role","menuitem","tabindex","-1","id","menu-item-1",1,"block","px-4","py-2","text-sm","cursor-hand",3,"click","ngClass"],["role","menuitem","tabindex","-1","id","menu-item-3",1,"block","px-4","py-2","text-sm","cursor-hand",3,"click","ngClass"],["role","menuitem","tabindex","-1","id","menu-item-4",1,"block","px-4","py-2","text-sm","cursor-hand",3,"click","ngClass"],["formArrayName","categories",1,"space-y-4"],["formArrayName","prices",1,"space-y-4"],[1,"text-2xl","font-bold","tracking-tight"],[1,"text-gray-500"],[1,"group","relative"],[1,"aspect-h-1","aspect-w-1","w-full","overflow-hidden","rounded-md","bg-gray-200","lg:aspect-none","group-hover:opacity-75","lg:h-80"],[1,"h-full","w-full","object-cover","object-center","lg:h-full","lg:w-full",3,"src","alt"],[1,"mt-4","flex","justify-between"],[1,"text-sm","text-gray-700"],[3,"routerLink"],["aria-hidden","true",1,"absolute","inset-0"],[1,"mt-1","text-sm","text-gray-500"],[1,"text-sm","font-medium","text-gray-900"]],template:function(o,a){o&1&&(i(0,"section")(1,"div",0)(2,"div"),p(3,We,43,9,"div",1),i(4,"main",2)(5,"div",3)(6,"h1",4),l(7,"Search Products"),n(),i(8,"div",5)(9,"div",6)(10,"div")(11,"button",7),h("click",function(){return a.toggleDropdownMenu()}),l(12," Sort "),f(),i(13,"svg",8),d(14,"path",9),n()()(),p(15,Xe,10,16,"div",10),n(),T(),i(16,"button",11),h("click",function(){return a.toggleFilterDialog()}),i(17,"span",12),l(18,"Filters"),n(),f(),i(19,"svg",13),d(20,"path",14),n()()()(),T(),i(21,"section",15)(22,"h2",16),l(23,"Products"),n(),i(24,"div",17)(25,"form",18),h("ngSubmit",function(){return a.onSubmit()}),i(26,"div",19)(27,"h3",20)(28,"label",21),l(29,"Search"),n(),i(30,"div",22)(31,"div",23),f(),i(32,"svg",24),d(33,"path",25),n()(),T(),d(34,"input",26),i(35,"button",27),l(36,"Search"),n()(),p(37,tt,3,2,"div",28),n()(),i(38,"div",19)(39,"h3",20)(40,"button",29),h("click",function(){return a.toggleCategoryMenu()}),i(41,"span",30),l(42,"Category"),n(),i(43,"span",31),p(44,it,2,0,":svg:svg",32)(45,nt,2,0,":svg:svg",32),n()()(),p(46,ot,4,0,"div",33),n(),i(47,"div",19)(48,"h3",20)(49,"button",29),h("click",function(){return a.togglePriceMenu()}),i(50,"span",30),l(51,"Price"),n(),i(52,"span",31),p(53,at,2,0,":svg:svg",32)(54,lt,2,0,":svg:svg",32),n()()(),p(55,dt,4,0,"div",33),n()(),i(56,"div",34)(57,"div",35),f(),i(58,"svg",36)(59,"defs")(60,"pattern",37),d(61,"path",38),n()(),d(62,"rect",39),n(),p(63,st,4,1,"div",40)(64,pt,3,0,"div",41),n()()()()()()()()),o&2&&(r(3),m(a.showFilterDialog?3:-1),r(12),m(a.showDropdownMenu?15:-1),r(10),g("formGroup",a.searchForm),r(10),g("disabled",!a.searchForm.valid),r(2),m(a.textSearch.invalid&&(a.textSearch.dirty||a.textSearch.touched)?37:-1),r(7),m(a.showCategoryMenu?-1:44),r(),m(a.showCategoryMenu?45:-1),r(),m(a.showCategoryMenu?46:-1),r(7),m(a.showPriceMenu?-1:53),r(),m(a.showPriceMenu?54:-1),r(),m(a.showPriceMenu?55:-1),r(8),m(a.showMessage?63:64))},dependencies:[L,ye,se,ae,ie,we,ne,re,de,le,ce,Pe,ke,Me,P,N],styles:[".cursor-hand[_ngcontent-%COMP%]{cursor:pointer}"]})}return t})();var pe=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=D({type:t,selectors:[["app-loading"]],standalone:!0,features:[I],decls:6,vars:0,consts:[["role","status",1,"absolute","-translate-x-1/2","-translate-y-1/2","top-2/4","left-1/2"],["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","text-gray-200","animate-spin","dark:text-gray-600","fill-blue-600"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"sr-only"]],template:function(o,a){o&1&&(i(0,"div",0),f(),i(1,"svg",1),d(2,"path",2)(3,"path",3),n(),T(),i(4,"span",4),l(5,"Loading..."),n()())}})}return t})();var ut=(t,c)=>c.id,gt=()=>[N,import("./chunk-KYS3EPZW.js").then(t=>t.ShortDescriptionPipe)],ft=t=>["/products/product-detail",t];function ht(t,c){if(t&1&&(i(0,"div",4)(1,"div",5),d(2,"img",6),V(3,"shortDescription"),n(),i(4,"div",7)(5,"div")(6,"h3",8)(7,"a",9),d(8,"span",10),l(9),V(10,"shortDescription"),n()(),i(11,"p",11),l(12),V(13,"shortDescription"),n()(),i(14,"p",12),l(15),n()()()),t&2){let e=c.$implicit;r(2),w("src",e.image,q),w("alt",j(3,6,e.title,20)),r(5),g("routerLink",ee(15,ft,e.id)),r(2),b(" ",j(10,9,e.title,20)," "),r(3),x(j(13,12,e.description,200)),r(3),b("$",e.price,"")}}function xt(t,c){if(t&1&&(i(0,"div",3),y(1,ht,16,17,"div",4,ut),n()),t&2){let e=s();r(),S(e.products)}}function vt(t,c){t&1&&d(0,"app-loading")}var fe=(()=>{class t{productsService;products=[];constructor(e){this.productsService=e}ngOnInit(){this.productsService.getAll().subscribe(e=>{this.products=e})}static \u0275fac=function(o){return new(o||t)(C(z))};static \u0275cmp=D({type:t,selectors:[["app-products"]],standalone:!0,features:[I],decls:9,vars:0,consts:[[1,"bg-white"],[1,"mx-auto","max-w-2xl","px-4","sm:px-6","lg:max-w-7xl","lg:px-8"],[1,"text-4xl","font-bold","tracking-tight","text-gray-900"],[1,"mt-6","grid","grid-cols-1","gap-x-6","gap-y-10","sm:grid-cols-2","lg:grid-cols-4","xl:gap-x-8"],[1,"group","relative"],[1,"aspect-h-1","aspect-w-1","w-full","overflow-hidden","rounded-md","bg-gray-200","lg:aspect-none","group-hover:opacity-75","lg:h-80"],[1,"h-full","w-full","object-cover","object-center","lg:h-full","lg:w-full",3,"src","alt"],[1,"mt-4","flex","justify-between"],[1,"text-sm","text-gray-700"],[3,"routerLink"],["aria-hidden","true",1,"absolute","inset-0"],[1,"mt-1","text-sm","text-gray-500"],[1,"text-sm","font-medium","text-gray-900"]],template:function(o,a){o&1&&(i(0,"section")(1,"div",0)(2,"div",1)(3,"h2",2),l(4,"Products"),n(),p(5,xt,3,0)(6,vt,1,0),X(7,5,gt,null,6),Y(),n()()())},dependencies:[L,P,pe]})}return t})();var _t=()=>[ae,ie,Ee,ne,re,de,le,ce,N,import("./chunk-4BYSMFAC.js").then(t=>t.ShowDescriptionDirective)],Ct=()=>["/products/search-products"];function yt(t,c){t&1&&(f(),i(0,"svg",17),d(1,"path",28),n())}function St(t,c){t&1&&(i(0,"div"),l(1,"Quantity is required."),n())}function bt(t,c){t&1&&(i(0,"div"),l(1,"Quantity must 0."),n())}function wt(t,c){if(t&1&&(i(0,"div",23),p(1,St,2,0,"div")(2,bt,2,0,"div"),n()),t&2){let e=s(3);r(),m(e.quantity.errors!=null&&e.quantity.errors.required?1:-1),r(),m(e.quantity.errors!=null&&e.quantity.errors.min?2:-1)}}function Et(t,c){if(t&1){let e=O();i(0,"div",1)(1,"nav",2)(2,"ol",3)(3,"li",4)(4,"a",5),l(5),n()()()(),i(6,"div",6)(7,"div",7),d(8,"img",8),n()(),i(9,"div",9)(10,"div",10)(11,"h1",11),l(12),n()(),i(13,"div",12)(14,"h2",13),l(15,"Product information"),n(),i(16,"p",14),l(17),n(),i(18,"div",15)(19,"h3",13),l(20,"Reviews"),n(),i(21,"div",16)(22,"div",16),y(23,yt,2,0,":svg:svg",17,F),n(),i(25,"p",13),l(26),n(),i(27,"p",18),l(28),n()()(),i(29,"form",19),h("ngSubmit",function(){v(e);let a=s(2);return _(a.onSubmit())}),i(30,"div")(31,"label",20),l(32,"Quantity"),n(),i(33,"div",21),d(34,"input",22),p(35,wt,3,2,"div",23),n()(),i(36,"div")(37,"button",24),l(38,"Add to cart"),n()()()(),i(39,"div",25)(40,"div")(41,"h3",13),l(42,"Description"),n(),i(43,"div",26)(44,"p",27),l(45),n()()()()()()}if(t&2){let e=s(2);r(4),g("routerLink",_e(12,Ct)),r(),x(e.product.category),r(3),w("src",e.product.image,q),w("alt",e.product.title),r(4),x(e.product.title),r(5),b("$",e.product.price,""),r(6),S(e.rate),r(3),b("",e.product.rating.rate," out of 5 stars"),r(2),b("",e.product.rating.count," reviews"),r(),g("formGroup",e.cartForm),r(6),m(e.quantity.invalid&&(e.quantity.dirty||e.quantity.touched)?35:-1),r(2),g("disabled",!e.cartForm.valid),r(8),x(e.product.description)}}function Pt(t,c){t&1&&d(0,"app-loading")}function kt(t,c){t&1&&(p(0,Et,46,13)(1,Pt,1,0),X(2,0,_t,null,1),Y())}function Mt(t,c){t&1&&d(0,"app-loading")}var je=(()=>{class t{route;productsService;ref;messageService;router;store=ve(De);product={};cartForm=new oe({quantity:new A(1,[G.required,G.min(1)])});constructor(e,o,a,u,H){this.route=e,this.productsService=o,this.ref=a,this.messageService=u,this.router=H}ngOnInit(){this.route.paramMap.pipe(he(e=>{let o=Number(e.get("id"));return this.productsService.get(o)})).subscribe(e=>{this.product=e,this.ref.markForCheck()})}onSubmit(){this.store.setCartItem({id:this.product.id,product:this.product,quantity:this.quantity.value}),this.messageService.success(`Update ${this.quantity.value} '${this.product.title}'.`,"Shopping Card: Update successful",{autoClose:!0,keepAfterRouteChange:!0}),this.router.navigateByUrl("/products/search-products")}get rate(){return Array.from(Array(Math.ceil(this.product.rating.rate)).keys())}get quantity(){return this.cartForm.get("quantity")}static \u0275fac=function(o){return new(o||t)(C(Se),C(z),C(Ce),C(R),C(be))};static \u0275cmp=D({type:t,selectors:[["app-product-detail"]],standalone:!0,features:[I],decls:4,vars:1,consts:[[1,"bg-white"],[1,"pt-6"],["aria-label","Breadcrumb"],["role","list",1,"mx-auto","flex","max-w-2xl","items-center","space-x-2","px-4","sm:px-6","lg:max-w-7xl","lg:px-8"],[1,"text-sm"],["aria-current","page",1,"font-medium","text-gray-500","hover:text-gray-600",3,"routerLink"],[1,"mx-auto","mt-6","max-w-2xl","sm:px-6","lg:grid","lg:max-w-7xl","lg:grid-cols-3","lg:gap-x-8","lg:px-8"],[1,"aspect-h-5","aspect-w-4","lg:aspect-h-4","lg:aspect-w-3","sm:overflow-hidden","sm:rounded-lg"],[1,"h-full","w-full","object-cover","object-center",3,"src","alt"],[1,"mx-auto","max-w-2xl","px-4","pb-16","pt-10","sm:px-6","lg:grid","lg:max-w-7xl","lg:grid-cols-3","lg:grid-rows-[auto,auto,1fr]","lg:gap-x-8","lg:px-8","lg:pb-24","lg:pt-16"],[1,"lg:col-span-2","lg:border-r","lg:border-gray-200","lg:pr-8"],["showDescription","",1,"text-2xl","font-bold","tracking-tight","text-gray-900","sm:text-3xl"],[1,"mt-4","lg:row-span-3","lg:mt-0"],[1,"sr-only"],[1,"text-3xl","tracking-tight","text-gray-900"],[1,"mt-6"],[1,"flex","items-center"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","flex-shrink-0","text-gray-900"],[1,"ml-3","text-sm","font-medium","text-indigo-600","hover:text-indigo-500"],[1,"mt-10",3,"ngSubmit","formGroup"],["for","quantity",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["id","quantity","name","quantity","type","quantity","required","","type","number","formControlName","quantity",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],[1,"alert","alert-danger"],["type","submit",1,"mt-10","flex","w-full","items-center","justify-center","rounded-md","border","border-transparent","bg-indigo-600","px-8","py-3","text-base","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2",3,"disabled"],[1,"py-10","lg:col-span-2","lg:col-start-1","lg:border-r","lg:border-gray-200","lg:pb-16","lg:pr-8","lg:pt-6"],[1,"space-y-6"],[1,"text-base","text-gray-900"],["fill-rule","evenodd","d","M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z","clip-rule","evenodd"]],template:function(o,a){o&1&&(i(0,"section")(1,"div",0),p(2,kt,4,0)(3,Mt,1,0,"app-loading"),n()()),o&2&&(r(2),m(a.product.id?2:3))},dependencies:[L,se,P,pe],changeDetection:0})}return t})();var Dt=[{path:"search-products",component:Ve},{path:"product-detail/:id",component:je},{path:"",component:fe,pathMatch:"full"},{path:"**",component:fe,pathMatch:"full"}],Le=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=W({type:t});static \u0275inj=K({imports:[P.forChild(Dt),P]})}return t})();var li=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=W({type:t});static \u0275inj=K({imports:[L,Le]})}return t})();export{li as ProductsModule};
